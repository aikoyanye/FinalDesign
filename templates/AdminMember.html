{% extends "AdminHeader.html" %}

{% block member %}
<div class="container" style="margin-top: 20px">
	<div class="row" style="text-align:center;">
		<ul class="list-group col-lg-4">
			<li class="list-group-item up_well"><h3>会员总数</h3></li>
			<li class="list-group-item down_well"><h3>{{ results[0] }}</h3></li>
		</ul>
        <ul class="list-group col-lg-4">
			<li class="list-group-item up_well"><h3>游玩总数</h3></li>
			<li class="list-group-item down_well"><h3>{{ results[1] }}</h3></li>
		</ul>
        <ul class="list-group col-lg-4">
			<li class="list-group-item up_well"><h3>信誉为差人数</h3></li>
			<li class="list-group-item down_well"><h3>{{ results[2] }}</h3></li>
		</ul>
	</div>
</div>
<hr>
<table id="table" width="100%" style="margin-top: 20px" class="table table-striped table-hover table-bordered">
    <thead>
    <tr>
        <th>
            <!--<span class="glyphicon glyphicon-plus" aria-hidden="true" onclick="MemberAddRow()"></span>-->
            <span class="glyphicon glyphicon-plus" aria-hidden="true" data-toggle="modal" data-target="#mo"></span>
            <a class="glyphicon glyphicon-download-alt" onclick="Data2Excel('/member')"></a>
            <a id="download_a" download="data.xls" href="../static/data.xls"></a>
            会员编号
        </th>
        <th>会员名称</th>
        <th>会员电话</th>
        <th>会员信誉</th>
        <th>注册时间</th>
        <th>游玩次数</th>
    </tr>
    </thead>
    <tbody>
    {% for index in range(len(data)) %}
    <tr>
        <td>{{ data[index][0] }}</td>
        <td id="name{{ index }}" onclick="MemberTdOnClickInput({{ data[index][0] }}, 'name{{ index }}', '{{ data[index][1] }}', 'username')">{{ data[index][1] }}</td>
        <td id="phone{{ index }}" onclick="MemberTdOnClickInput({{ data[index][0] }}, 'phone{{ index }}', '{{ data[index][2] }}', 'phone')">{{ data[index][2] }}</td>
        <td id="reputation{{ index }}" onclick="MemberTdOnClickSelect({{ data[index][0] }}, 'reputation{{ index }}', '{{ data[index][3] }}', 'reputation')">{{ data[index][3] }}</td>
        <td id="register{{ index }}" onclick="MemberTdOnClickInput({{ data[index][0] }}, 'register{{ index }}', '{{ data[index][4] }}', 'created')">{{ data[index][4] }}</td>
        <td id="time{{ index }}" onclick="MemberTdOnClickInput({{ data[index][0] }}, 'time{{ index }}', '{{ data[index][5] }}', 'time')">{{ data[index][5] }}</td>
    </tr>
    {% end %}
    </tbody>
</table>
<div class="modal fade" id="mo" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header" id="modal_header">添加会员</div>
            <div class="modal-body" id="modal_body">
                <label for="member_name">会员昵称</label>
                <input type="text" id="member_name" class="form-control" placeholder="会员昵称" />
                <label for="member_phone">会员电话</label>
                <input type="text" id="member_phone" class="form-control" placeholder="会员电话" />
            </div>
            <div class="modal-footer" id="modal_footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
                <button type="button" class="btn btn-primary" onclick="AddMember()" data-dismiss="modal">提交</button>
            </div>
        </div>
    </div>
</div>
{% end %}